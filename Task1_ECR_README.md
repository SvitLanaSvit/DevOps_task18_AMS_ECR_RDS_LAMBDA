# Task 1: AWS ECR (Elastic Container Registry)

## –ó–∞–≤–¥–∞–Ω–Ω—è
–°—Ç–≤–æ—Ä—ñ—Ç—å –≤–ª–∞—Å–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π ECR, –∑–±–µ—Ä—ñ—Ç—å –≤–ª–∞—Å–Ω–∏–π –æ–±—Ä–∞–∑ –Ω–∞ —Å–≤–æ—î–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ, –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —É —Å–≤—ñ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π ECR —Ç–∞ push —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –æ–±—Ä–∞–∑ —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π ECR.

## –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
- **–†–µ–≥—ñ–æ–Ω**: eu-central-1 (Frankfurt) ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π —Ä–µ–≥—ñ–æ–Ω –¥–ª—è –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤
- **AWS CLI**: –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ç–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –∑ credentials
- **Docker**: –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ç–∞ –ø—Ä–∞—Ü—é—î

### ‚ö†Ô∏è **–í–∞–∂–ª–∏–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ credentials (DanIT –∫—É—Ä—Å):**

–î–ª—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ –∫—É—Ä—Å—É DanIT –¥–æ—Å—Ç—É–ø –¥–æ AWS –∑–¥—ñ–π—Å–Ω—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—É —Å–∏—Å—Ç–µ–º—É —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö credentials:

1. **–ë–∞–∑–æ–≤—ñ credentials** (Access Key ID/Secret Key) —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –≤ AWS Console, –∞–ª–µ –º–∞—é—Ç—å –æ–±–º–µ–∂–µ–Ω—ñ –ø—Ä–∞–≤–∞
2. **–¢–∏–º—á–∞—Å–æ–≤—ñ credentials** –∑ –ø–æ–≤–Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Å–∫—Ä–∏–ø—Ç `dan_it_aws_login.sh`
3. **MFA (Multi-Factor Authentication)** –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–æ–±–æ—á–∏—Ö credentials

#### –ü—Ä–æ—Ü–µ—Å –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–æ–±–æ—á–∏—Ö credentials:
```bash
# –ó–∞–ø—É—Å–∫ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ DanIT
./dan_it_aws_login.sh

# –°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å MFA –∫–æ–¥ –∑ –≤–∞—à–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
Enter MFA code: [–≤–∞—à-6-–∑–Ω–∞—á–Ω–∏–π-–∫–æ–¥]

# –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —Ç–∏–º—á–∞—Å–æ–≤—ñ credentials
Temporary credentials saved under profile 'default'.
```

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: –î–µ—Ç–∞–ª—å–Ω–∏–π –∫–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ —Ç–∞ MFA –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –Ω–µ –ø—É–±–ª—ñ–∫—É—é—Ç—å—Å—è –∑ –º—ñ—Ä–∫—É–≤–∞–Ω—å –±–µ–∑–ø–µ–∫–∏ –∫—É—Ä—Å—É.

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è AWS Access Keys (–±–∞–∑–æ–≤—ñ credentials)

#### ‚ö†Ô∏è **–ü—Ä–∏–º—ñ—Ç–∫–∞ –¥–ª—è DanIT –∫—É—Ä—Å—É:**
–¶—ñ –±–∞–∑–æ–≤—ñ credentials –º–∞—é—Ç—å –æ–±–º–µ–∂–µ–Ω—ñ –ø—Ä–∞–≤–∞ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤ —Å–∫—Ä–∏–ø—Ç—ñ `dan_it_aws_login.sh`. –†–æ–±–æ—á—ñ credentials –∑ –ø–æ–≤–Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ—Å–ª—è MFA –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.

#### –Ø–∫ –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Access Keys:
1. –í **AWS Management Console** –∑–Ω–∞–π–¥—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å **IAM**
2. –í –ª—ñ–≤–æ–º—É –º–µ–Ω—é –≤–∏–±–µ—Ä—ñ—Ç—å **"Security credentials"**
3. –ü—Ä–æ–∫—Ä—É—Ç—ñ—Ç—å –¥–æ —Ä–æ–∑–¥—ñ–ª—É **"Access keys"**
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create access key"**

#### –î–µ—Ç–∞–ª—å–Ω—ñ –∫—Ä–æ–∫–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:

**1.1 –ü–æ—á–∞—Ç–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Access Key**
- –í–∏–±–µ—Ä—ñ—Ç—å **"Command Line Interface (CLI)"** —è–∫ use case
- –ü–æ—Å—Ç–∞–≤—Ç–µ –≥–∞–ª–æ—á–∫—É **"I understand the above recommendation"**
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Next"**
![–°—Ç–≤–æ—Ä–µ–Ω–Ω—è Access Key](Screens_ecr/1.1.1_create_credentiol_key.png)

**1.2 –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è**
- –î–æ–¥–∞–π—Ç–µ **Description tag** (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ): `ECR access key for DevOps course`
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create access key"**
- **‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û**: –ó–±–µ—Ä–µ–∂—ñ—Ç—å **Access Key ID** —Ç–∞ **Secret Access Key**
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Download .csv file"** –∞–±–æ —Å–∫–æ–ø—ñ—é–π—Ç–µ –¥–∞–Ω—ñ
![–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è Access Key](Screens_ecr/1.1.2_create_credentiol_key.png)

**1.3 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AWS –ø—Ä–æ—Ñ—ñ–ª—é –¥–ª—è DanIT –∫—É—Ä—Å—É**

–ü—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –±–∞–∑–æ–≤–∏—Ö credentials –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ AWS –ø—Ä–æ—Ñ—ñ–ª—å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑—ñ —Å–∫—Ä–∏–ø—Ç–æ–º –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:

```bash
# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ—Ñ—ñ–ª—é –¥–ª—è DanIT –∫—É—Ä—Å—É
aws configure --profile danit-without-mfa

# –í–≤–µ–¥—ñ—Ç—å –æ—Ç—Ä–∏–º–∞–Ω—ñ credentials:
AWS Access Key ID [None]: [–≤–∞—à-access-key-id]
AWS Secret Access Key [None]: [–≤–∞—à-secret-access-key]
Default region name [None]: eu-central-1
Default output format [None]: json
```

**‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ**: –¶–µ–π –ø—Ä–æ—Ñ—ñ–ª—å –º—ñ—Å—Ç–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –±–∞–∑–æ–≤—ñ credentials –∑ –æ–±–º–µ–∂–µ–Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏. –î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ–≤–Ω–∏—Ö –ø—Ä–∞–≤ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç MFA –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:

```bash
# –£ WSL/Linux —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç DanIT
./dan_it_aws_login.sh

# –°–∫—Ä–∏–ø—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î –ø—Ä–æ—Ñ—ñ–ª—å danit-without-mfa –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
# —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç—å —Ç–∏–º—á–∞—Å–æ–≤—ñ credentials –∑ –ø–æ–≤–Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏
```

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞ –≤–∏ –º–∞—Ç–∏–º–µ—Ç–µ —Ä–æ–±–æ—á—ñ credentials –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è AWS –∫–æ–º–∞–Ω–¥.

### –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

#### –Ø–∫ –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è ECR:
1. –í **AWS Management Console** –∑–Ω–∞–π–¥—ñ—Ç—å —Å–µ—Ä–≤—ñ—Å **ECR**
2. –í–∏–±–µ—Ä—ñ—Ç—å **"Amazon Elastic Container Registry"**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create repository"**

#### –î–µ—Ç–∞–ª—å–Ω—ñ –∫—Ä–æ–∫–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:

**2.1 –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**
- **Visibility settings**: –≤–∏–±–µ—Ä—ñ—Ç—å **"Private"**
- **Repository name**: –≤–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `sk-my-web-app`)
- **Tag immutability**: –∑–∞–ª–∏—à—ñ—Ç—å **"Mutable"**
- **Image scan settings**: –º–æ–∂–Ω–∞ —É–≤—ñ–º–∫–Ω—É—Ç–∏ **"Scan on push"**
![–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ECR](Screens_ecr/1.2.1_create_ecr.png)

**2.2 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**
- **Encryption settings**: –∑–∞–ª–∏—à—ñ—Ç—å **"AES-256"** (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create repository"**
- –ó–±–µ—Ä–µ–∂—ñ—Ç—å **Repository URI** –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
![–°—Ç–≤–æ—Ä–µ–Ω–Ω—è ECR](Screens_ecr/1.2.2_create_ecr.png)

### –ö—Ä–æ–∫ 3: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –∑–±—ñ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑—É

#### –Ø–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ Docker –æ–±—Ä–∞–∑:
1. –°—Ç–≤–æ—Ä—ñ—Ç—å **Dockerfile** –∑ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–º Apache
2. –°—Ç–≤–æ—Ä—ñ—Ç—å **index.html** –∑ –∫–∞—Å—Ç–æ–º–Ω–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
3. –ó–±–µ—Ä—ñ—Ç—å –æ–±—Ä–∞–∑ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker

#### –î–µ—Ç–∞–ª—å–Ω—ñ –∫—Ä–æ–∫–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è:

**3.1 –ó–±—ñ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑—É**
–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª–∏ —Ç–∞ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥–∏:

**Dockerfile:**
```dockerfile
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –±–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ Apache
FROM httpd:2.4

# –ö–æ–ø—ñ—é—î–º–æ –Ω–∞—à HTML —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É Apache
COPY index.html /usr/local/apache2/htdocs/

# –í—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –ø–æ—Ä—Ç 80
EXPOSE 80

# –ó–∞–ø—É—Å–∫–∞—î–º–æ Apache
CMD ["httpd-foreground"]
```

**index.html:**
```html
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevOps Task 18 - ECR Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 50px;
            color: white;
            text-align: center;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .info {
            font-size: 1.2em;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ AWS ECR Demo</h1>
        <div class="info">
            <p><strong>–ü—Ä–æ–µ–∫—Ç:</strong> DevOps Task 18</p>
            <p><strong>–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó:</strong> Docker + AWS ECR</p>
            <p><strong>–°—Ç–∞—Ç—É—Å:</strong> ‚úÖ –£—Å–ø—ñ—à–Ω–æ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–æ!</p>
        </div>
        <p>–¶–µ–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä Apache –ø—Ä–∞—Ü—é—î –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ, —è–∫–∏–π –±—É–ª–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –≤ AWS ECR!</p>
        <p><em>–°—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ –∫—É—Ä—Å—É DevOps</em></p>
    </div>
</body>
</html>
```

**–ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –∑–±—ñ—Ä–∫–∏:**
```bash
# –ó–±—ñ—Ä–∫–∞ –æ–±—Ä–∞–∑—É
docker build -t sk-my-web-app .

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ–±—Ä–∞–∑—ñ–≤
docker images
```
![–ó–±—ñ—Ä–∫–∞ –æ–±—Ä–∞–∑—É](Screens_ecr/1.3.1_build_image.png)

**3.2 –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ–±—Ä–∞–∑—É –ª–æ–∫–∞–ª—å–Ω–æ**
```bash
# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è —Ç–µ—Å—Ç—É
docker run -d -p 8080:80 --name test-web sk-my-web-app

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∏
curl http://localhost:8080

# –ó—É–ø–∏–Ω–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker stop test-web && docker rm test-web
```
![–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ–±—Ä–∞–∑—É](Screens_ecr/1.3.2_test_after_build.png)

### –ö—Ä–æ–∫ 4: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ Push –æ–±—Ä–∞–∑—É –≤ ECR

#### –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ push:
1. –í **ECR Console** –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É **"View push commands"**
3. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–∞ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥–∏

#### –î–µ—Ç–∞–ª—å–Ω—ñ –∫—Ä–æ–∫–∏ push:

**4.1 –û—Ç—Ä–∏–º–∞–Ω–Ω—è Push Commands**
–í ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"View push commands"** —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è:
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –≤ ECR
- –¢–µ–≥—É–≤–∞–Ω–Ω—è –æ–±—Ä–∞–∑—É
- Push –æ–±—Ä–∞–∑—É –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
![Push Commands](Screens_ecr/1.4.1_push_commands_ecr.png)

**4.2 –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —Ç–∞ push**
–í–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥–∏ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ:

```bash
# 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –≤ ECR
aws ecr get-login-password --region eu-central-1 | docker login --username AWS --password-stdin 626126209976.dkr.ecr.eu-central-1.amazonaws.com

# 2. –¢–µ–≥—É–≤–∞–Ω–Ω—è –æ–±—Ä–∞–∑—É –¥–ª—è ECR
docker tag sk-my-web-app:latest 626126209976.dkr.ecr.eu-central-1.amazonaws.com/sk-my-web-app:latest

# 3. Push –æ–±—Ä–∞–∑—É –≤ ECR
docker push 626126209976.dkr.ecr.eu-central-1.amazonaws.com/sk-my-web-app:latest
```
![Login —Ç–∞ Push](Screens_ecr/1.4.2_login_push_image_to_ecr.png)

### –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

**5.1 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ–±—Ä–∞–∑—É –≤ ECR**
–ü–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ ECR Console —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –æ–±—Ä–∞–∑ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ:
- –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–∑—ñ–≤ —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–∑–º—ñ—Ä —Ç–∞ —Ç–µ–≥ –æ–±—Ä–∞–∑—É
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Å—Ç–∞—Ç—É—Å –ø–æ–∫–∞–∑—É—î —É—Å–ø—ñ—à–Ω–∏–π upload
![–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ ECR](Screens_ecr/1.5.1_result_image_on_ecr.png)

## –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ ECR

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –≤ ECR:
```bash
# –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
aws ecr get-login-password --region eu-central-1 | docker login --username AWS --password-stdin [ACCOUNT-ID].dkr.ecr.eu-central-1.amazonaws.com
```

### –†–æ–±–æ—Ç–∞ –∑ –æ–±—Ä–∞–∑–∞–º–∏:
```bash
# –ó–±—ñ—Ä–∫–∞ –æ–±—Ä–∞–∑—É
docker build -t repository-name .

# –¢–µ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è ECR
docker tag repository-name:latest [ACCOUNT-ID].dkr.ecr.eu-central-1.amazonaws.com/repository-name:latest

# Push –≤ ECR
docker push [ACCOUNT-ID].dkr.ecr.eu-central-1.amazonaws.com/repository-name:latest

# Pull –∑ ECR
docker pull [ACCOUNT-ID].dkr.ecr.eu-central-1.amazonaws.com/repository-name:latest
```

### –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:
```bash
# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–∫–∞–ª—å–Ω–∏—Ö –æ–±—Ä–∞–∑—ñ–≤
docker images

# –í–∏–¥–∞–ª–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑—É
docker rmi repository-name:latest

# –ü–µ—Ä–µ–≥–ª—è–¥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ ECR
aws ecr describe-repositories --region eu-central-1

# –ü–µ—Ä–µ–≥–ª—è–¥ –æ–±—Ä–∞–∑—ñ–≤ —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
aws ecr list-images --repository-name repository-name --region eu-central-1
```

## –§–∞–π–ª–∏ –ø—Ä–æ–µ–∫—Ç—É

### Dockerfile
```dockerfile
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –±–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ Apache
FROM httpd:2.4

# –ö–æ–ø—ñ—é—î–º–æ –Ω–∞—à HTML —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É Apache
COPY index.html /usr/local/apache2/htdocs/

# –í—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –ø–æ—Ä—Ç 80
EXPOSE 80

# –ó–∞–ø—É—Å–∫–∞—î–º–æ Apache
CMD ["httpd-foreground"]
```

### index.html
–ö—Ä–∞—Å–∏–≤–∏–π HTML —Ñ–∞–π–ª –∑ —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—î—é —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –ø—Ä–æ–µ–∫—Ç (–¥–∏–≤. –ø–æ–≤–Ω–∏–π –∫–æ–¥ –≤–∏—â–µ).

## –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

### –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ–±—Ä–∞–∑—ñ–≤ –∑ ECR:
1. ECR Console ‚Üí –≤—ñ–¥–∫—Ä–∏–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –í–∏–±–µ—Ä—ñ—Ç—å –æ–±—Ä–∞–∑ ‚Üí Actions ‚Üí Delete
3. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –≤–∏–¥–∞–ª–µ–Ω–Ω—è
![–í–∏–¥–∞–ª–µ–Ω–Ω—è –æ–±—Ä–∞–∑—É –∑ ECR](Screens_ecr/1.6.1_delete_image.png)

### –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é ECR:
1. ECR Console ‚Üí Repositories
2. –í–∏–±–µ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π ‚Üí Delete
3. –í–≤–µ–¥—ñ—Ç—å `delete` –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
![–í–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é ECR](Screens_ecr/1.6.2_delete_repository.png)

### –í–∏–¥–∞–ª–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –æ–±—Ä–∞–∑—ñ–≤:
```bash
# –í–∏–¥–∞–ª–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –æ–±—Ä–∞–∑—ñ–≤
docker rmi sk-my-web-app:latest
docker rmi 626126209976.dkr.ecr.eu-central-1.amazonaws.com/sk-my-web-app:latest

# –û—á–∏—â–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ Docker
docker system prune -a
```
![–í–∏–¥–∞–ª–µ–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –æ–±—Ä–∞–∑—ñ–≤](Screens_ecr/1.6.3_delete_image_local.png)

### –í–∏–¥–∞–ª–µ–Ω–Ω—è AWS Access Keys (–∑ –º—ñ—Ä–∫—É–≤–∞–Ω—å –±–µ–∑–ø–µ–∫–∏):
1. **IAM Console** ‚Üí **Security credentials**
2. –í —Ä–æ–∑–¥—ñ–ª—ñ **"Access keys"** –∑–Ω–∞–π–¥—ñ—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∫–ª—é—á
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Actions"** ‚Üí **"Delete"**
4. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤–≤–µ–¥–µ–Ω–Ω—è–º **"Delete"**
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Delete"**

**‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ –¥–ª—è DanIT –∫—É—Ä—Å—É**: 
- –í–∏–¥–∞–ª—è–π—Ç–µ —Ç—ñ–ª—å–∫–∏ –∫–ª—é—á—ñ, —è–∫—ñ –≤–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ –¥–ª—è —Ü—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è
- –ë–∞–∑–æ–≤—ñ credentials –∫—É—Ä—Å—É –∑–∞–ª–∏—à–∞–π—Ç–µ –¥–ª—è –ø–æ–¥–∞–ª—å—à–∏—Ö –∑–∞–≤–¥–∞–Ω—å
- –¢–∏–º—á–∞—Å–æ–≤—ñ credentials –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –µ–∫—Å–ø—ñ—Ä—É—é—Ç—å—Å—è

![–í–∏–¥–∞–ª–µ–Ω–Ω—è Access Keys](Screens_ecr/1.6.4_delete_access_keys.png.png)
![–í–∏–¥–∞–ª–µ–Ω–Ω—è Access Keys](Screens_ecr/1.6.5_delete_access_keys.png.png)
![–í–∏–¥–∞–ª–µ–Ω–Ω—è Access Keys](Screens_ecr/1.6.6_delete_access_keys.png.png)

## –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è

‚úÖ **–°—Ç–≤–æ—Ä–µ–Ω–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π ECR**  
‚úÖ **–ó—ñ–±—Ä–∞–Ω–æ –∫–∞—Å—Ç–æ–º–Ω–∏–π Docker –æ–±—Ä–∞–∑ –∑ Apache**  
‚úÖ **–£—Å–ø—ñ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ –≤ ECR**  
‚úÖ **–û–±—Ä–∞–∑ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –≤ ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π**  
‚úÖ **–í–∏–¥–∞–ª–µ–Ω–æ –æ–±—Ä–∞–∑ –∑ ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é**  
‚úÖ **–í–∏–¥–∞–ª–µ–Ω–æ ECR —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π**  
‚úÖ **–í–∏–¥–∞–ª–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω—ñ Docker –æ–±—Ä–∞–∑–∏**  
‚úÖ **–í–∏–¥–∞–ª–µ–Ω–æ AWS Access Keys (–±–µ–∑–ø–µ–∫–∞)**  

## –í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏

1. **–†–µ–≥—ñ–æ–Ω**: –í—Å—ñ —Ä–µ—Å—É—Ä—Å–∏ –≤ –æ–¥–Ω–æ–º—É —Ä–µ–≥—ñ–æ–Ω—ñ (eu-central-1)
2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è**: AWS CLI –º–∞—î –±—É—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ credentials
3. **Docker**: –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Docker –∑–∞–ø—É—â–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –∑–±—ñ—Ä–∫–æ—é
4. **–¢–µ–≥—É–≤–∞–Ω–Ω—è**: –û–±–æ–≤'—è–∑–∫–æ–≤–æ —Ç–µ–≥—É–π—Ç–µ –æ–±—Ä–∞–∑ –ø–µ—Ä–µ–¥ push –≤ ECR
5. **URI**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—Ä–∞–≤—ñ–ª—å–Ω–∏–π ECR URI –¥–ª—è –≤–∞—à–æ–≥–æ –∞–∫–∞—É–Ω—Ç—É
6. **DanIT Security**: –î–ª—è –∫—É—Ä—Å—É DanIT –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ç–∏–º—á–∞—Å–æ–≤—ñ credentials —á–µ—Ä–µ–∑ MFA –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é

## –ë–µ–∑–ø–µ–∫–∞ –∫—É—Ä—Å—É DanIT

–î–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:
- –ë–∞–∑–æ–≤—ñ credentials –º–∞—é—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –ø—Ä–∞–≤–∞
- –ü–æ–≤–Ω—ñ –ø—Ä–∞–≤–∞ –Ω–∞–¥–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ MFA –≤–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—é
- –¢–∏–º—á–∞—Å–æ–≤—ñ credentials –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –µ–∫—Å–ø—ñ—Ä—É—é—Ç—å—Å—è
- –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∑–∞—Ö–∏—â–µ–Ω–∏–π —Ç–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π –ø–æ–∑–∞ –∫—É—Ä—Å–æ–º

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

- **Base Image**: httpd:2.4 (Apache HTTP Server)
- **Final Image Size**: ~117MB
- **Port**: 80 (HTTP)
- **Content**: –ö–∞—Å—Ç–æ–º–Ω–∏–π HTML –∑ CSS —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—î—é
- **Registry**: AWS ECR (Private)
- **Authentication**: AWS IAM credentials + ECR token